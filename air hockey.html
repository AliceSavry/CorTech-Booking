<!DOCTYPE html>
<html>
<head>
    <title>Air Hockey</title>
    <style>
        body { margin: 0; background: #222; display: flex; justify-content: center; align-items: center; height: 100vh; }
        canvas { background: #111; border: 4px solid #00FFFF; border-radius: 10px; cursor: none; }
    </style>
</head>
<body>
    <canvas id="canvas" width="400" height="600"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let puck = { x: 200, y: 300, r: 15, dx: 0, dy: 0 };
        let player = { x: 200, y: 550, r: 25, color: '#00FFFF' };
        let ai = { x: 200, y: 50, r: 25, color: '#FF0055' };
        
        canvas.addEventListener('mousemove', e => {
            let rect = canvas.getBoundingClientRect();
            player.x = e.clientX - rect.left;
            player.y = Math.max(e.clientY - rect.top, 300); // Reste en bas
        });

        function update() {
            // AI Logic
            let targetX = puck.x;
            if(ai.x < targetX - 5) ai.x += 4;
            else if(ai.x > targetX + 5) ai.x -= 4;
            
            // Physics
            puck.x += puck.dx;
            puck.y += puck.dy;
            
            // Bords
            if(puck.x + puck.r > canvas.width || puck.x - puck.r < 0) puck.dx *= -1;
            if(puck.y + puck.r > canvas.height || puck.y - puck.r < 0) {
                puck.x = 200; puck.y = 300; puck.dx = 0; puck.dy = 0; // Reset But
            }
            
            // Friction
            puck.dx *= 0.99;
            puck.dy *= 0.99;
            
            // Collision Player
            let distP = Math.hypot(puck.x - player.x, puck.y - player.y);
            if(distP < puck.r + player.r) {
                let angle = Math.atan2(puck.y - player.y, puck.x - player.x);
                puck.dx = Math.cos(angle) * 10;
                puck.dy = Math.sin(angle) * 10;
            }
            
            // Collision AI
            let distA = Math.hypot(puck.x - ai.x, puck.y - ai.y);
            if(distA < puck.r + ai.r) {
                let angle = Math.atan2(puck.y - ai.y, puck.x - ai.x);
                puck.dx = Math.cos(angle) * 10;
                puck.dy = Math.sin(angle) * 10;
            }
        }

        function draw() {
            ctx.clearRect(0, 0, 400, 600);
            
            // Ligne mÃ©diane
            ctx.strokeStyle = '#555'; ctx.beginPath(); ctx.moveTo(0, 300); ctx.lineTo(400, 300); ctx.stroke();
            ctx.beginPath(); ctx.arc(200, 300, 50, 0, Math.PI*2); ctx.stroke();
            
            // Palet
            ctx.fillStyle = 'white'; ctx.beginPath(); ctx.arc(puck.x, puck.y, puck.r, 0, Math.PI*2); ctx.fill();
            
            // Joueurs
            ctx.fillStyle = player.color; ctx.beginPath(); ctx.arc(player.x, player.y, player.r, 0, Math.PI*2); ctx.fill();
            ctx.fillStyle = ai.color; ctx.beginPath(); ctx.arc(ai.x, ai.y, ai.r, 0, Math.PI*2); ctx.fill();
            
            update();
            requestAnimationFrame(draw);
        }
        draw();
    </script>
</body>
</html
